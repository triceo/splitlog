<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-03-11 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150311" />
    <meta http-equiv="Content-Language" content="en" />
    <title>splitlog: Watching Your Logs &#x2013; Splitlog User Guide</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/triceo/splitlog">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>splitlog: watching your logs</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-03-11
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.7.0
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Usage</li>
                              
      <li class="active">
  
            <a href="#"><i class="none"></i>Introduction</a>
          </li>
                                                                                                
      <li>
  
                          <a href="../user_guide/features.html" title="Features">
          <i class="icon-chevron-down"></i>
        Features</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="../user_guide/metrics.html" title="Metrics">
          <i class="none"></i>
        Metrics</a>
            </li>
                    
      <li>
  
                          <a href="../user_guide/merging.html" title="Merging Followers">
          <i class="none"></i>
        Merging Followers</a>
            </li>
                    
      <li>
  
                          <a href="../user_guide/expectations.html" title="Expectations">
          <i class="none"></i>
        Expectations</a>
            </li>
              </ul>
        </li>
                                                                                                
      <li>
  
                          <a href="../user_guide/advanced.html" title="Deep Down">
          <i class="icon-chevron-down"></i>
        Deep Down</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="../user_guide/message_lifecycle.html" title="Message Lifecycle">
          <i class="none"></i>
        Message Lifecycle</a>
            </li>
                    
      <li>
  
                          <a href="../user_guide/splitting.html" title="Splitting">
          <i class="none"></i>
        Splitting</a>
            </li>
                    
      <li>
  
                          <a href="../user_guide/memory.html" title="Memory Management">
          <i class="none"></i>
        Memory Management</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="../faq.html" title="Frequently Asked Questions">
          <i class="none"></i>
        Frequently Asked Questions</a>
            </li>
                                        <li class="nav-header">Modules</li>
                              
      <li>
  
                          <a href="../splitlog-api/index.html" title="splitlog-api: the public APIs">
          <i class="none"></i>
        splitlog-api: the public APIs</a>
            </li>
                
      <li>
  
                          <a href="../splitlog-core/index.html" title="splitlog-core: the client library">
          <i class="none"></i>
        splitlog-core: the client library</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                              
      <li>
  
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="$sitesearchValue" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2><a name="Splitlog_User_Guide"></a>Splitlog User Guide</h2>
<div class="section">
<h3><a name="Introduction_into_Splitlog"></a>Introduction into <i>Splitlog</i></h3>
<p><i>Splitlog</i> is a tool that helps you monitor log files from within Java applications. It allows you to listen for changes to the log files, to wait for particular content or to gather various statistics thereof.</p>
<p>This document will explain the basic concepts behind <i>Splitlog</i> and show you the most common examples for using <i>Splitlog</i> within your own application. Without further ado, let&#x2019;s dive in. </p>
<div class="section">
<h4><a name="Basic_concepts"></a>Basic concepts</h4>
<p>In order to understand <i>Splitlog</i>, you should first learn about the basic building blocks of the tool. Worry not, it&#x2019;s only a short list.</p>

<ul>
  
<li>First and foremost, we have the <tt>LogWatch</tt>. This is the piece of code that periodically checks a log file for changes. For every log file that you want to use within <i>Splitlog</i>, you need one <tt>LogWatch</tt> and you will get it through <tt>LogWatchBuilder</tt>. When you have <tt>LogWatch</tt> tracking changes in a log file, we call that <b>watching the log</b> and the file is called <b>watched file</b>.</li>
  
<li>
<p>Watched files will be read <b>line by line</b> and these lines <b>will be put together into a <tt>Message</tt></b>. A <tt>Message</tt> would typically look like this:</p>
  
<blockquote>
<p>15:11:42,044 WARN [org.mylogger] (thread-1) This is a warning.</p>
  </blockquote>
<p>Alternately, <tt>Message</tt> can also span multiple lines, like this one containing an exception stack trace:</p>
  
<blockquote>
<p>15:11:49,051 ERROR [org.mylogger] (thread-1) Some exception</p>
<p>at org.switchyard.internal.ServiceReferenceImpl.createExchange(ServiceReferenceImpl.java:118) [switchyard-runtime-1.1.1.jar:1.1.1]</p>
  </blockquote>
<p>You will not be notified of each line &#x2013; but you will be notified every time another line is added to a <tt>Message</tt>, be it a new <tt>Message</tt> or a continuation of the previous one. The beginning and the end of each <tt>Message</tt> is determined by the <tt>Splitter</tt>, but more on that later. </p></li>
  
<li><b>Message consumer</b> is a piece of code that is notified whenever a new line appears in the log, resulting in a <tt>Message</tt>. There are various kinds of consumers, most important of which is the <tt>Follower</tt>, as explained below.</li>
  
<li>Your consumers will only be notified of <tt>Message</tt>s if you are <b>following</b> the watched file. Following can be started from the <tt>LogWatch</tt>, at which point you will be given a <tt>Follower</tt> instance. <tt>Follower</tt> is your window into the watched log file &#x2013; it will contain only the <tt>Message</tt>s that have arrived since you started following the <tt>LogWatch</tt>, until you either stop following or you stop watching.</li>
</ul>
<p>And that&#x2019;s it, folks! You can now start using <i>Splitlog</i>. Let&#x2019;s see how. </p></div>
<div class="section">
<h4><a name="Simple_example"></a>Simple example</h4>
<p>Before we start, let&#x2019;s make sure you have <i>Splitlog</i> on your Java classpath. Either include the <a class="externalLink" href="http://search.maven.org/remotecontent?filepath=com/github/triceo/splitlog/splitlog-core/1.7.0/splitlog-core-1.7.0-jar-with-dependencies.jar" title="Splitlog Uber Jar">uber jar</a> or, preferably, use Maven:</p>

<div class="source">
<div class="source">
<pre>&lt;dependency&gt;
  &lt;groupId&gt;com.github.triceo.splitlog&lt;/groupId&gt;
  &lt;artifactId&gt;splitlog-core&lt;/artifactId&gt;
  &lt;version&gt;1.7.0&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>
<p>Now that this is behind us, let us look at the simplest possible <i>Splitlog</i> use case:</p>

<div class="source">
<div class="source">
<pre>  File myLogFile = new File(&quot;server.log&quot;);
  LogWatchBuilder builder = LogWatchBuilder.getDefault().watchingFile(myLogFile);
  LogWatch watch = builder.build();
  Follower follower = watch.startFollowing();
  // [snip] insert whatever code here [/snip]
  System.out.println(follower.getMessages());
</pre></div></div>
<p>You know what? Let&#x2019;s take it line by line. Here, you tell <i>Splitlog</i> to prepare a <tt>LogWatch</tt> that would watch the file stored in the <tt>myLogFile</tt> variable: </p>

<div class="source">
<div class="source">
<pre>  LogWatchBuilder builder = LogWatchBuilder.getDefault().watchingFile(myLogFile);
</pre></div></div>
<p>Here, you actually retrieve this <tt>LogWatch</tt>:</p>

<div class="source">
<div class="source">
<pre>  LogWatch watch = builder.build();
</pre></div></div>
<p>And, to top it all off, you start following the file to start receiving notifications on new <tt>Message</tt>s. Based on the configuration of the <tt>LogWatch</tt>, it is possible that the <tt>LogWatch</tt> will only actually start watching the log now:</p>

<div class="source">
<div class="source">
<pre>  Follower follower = watch.startFollowing();
</pre></div></div>
<p>Now would be a good time to let <i>Splitlog</i> wait for some <tt>Message</tt>s to be read from the log. Here goes some code that your application actually needs to do while the logs are being filled with stuff. And, when it&#x2019;s over, you can print every <tt>Message</tt> received in the meantime:</p>

<div class="source">
<div class="source">
<pre>  System.out.println(follower.getMessages());
</pre></div></div>
<p>What remains is to clean up.</p>

<div class="source">
<div class="source">
<pre>  follower.stop();
  watch.terminate(); // this one will suffice
</pre></div></div>
<p>And that&#x2019;s it. You&#x2019;re done. But <i>Splitlog</i> offers <a href="features.html" title="Splitlog User Guide: Features">much more</a>?</p>
<div class="section">
<h5><a name="References"></a>References</h5>

<ol style="list-style-type: decimal">
  
<li><a href="../apidocs/com/github/triceo/splitlog/api/LogWatch.html">LogWatch Javadoc</a>.</li>
  
<li><a href="../apidocs/com/github/triceo/splitlog/api/LogWatchBuilder.html">LogWatchBuilder Javadoc</a>.</li>
  
<li><a href="../apidocs/com/github/triceo/splitlog/api/Message.html">Message Javadoc</a>.</li>
  
<li><a href="../apidocs/com/github/triceo/splitlog/api/Follower.html">Follower Javadoc</a>.</li>
</ol>
<p>&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;-</p></div>
<div class="section">
<h5><a name="Something_wrong"></a>Something wrong?</h5>
<p>Think you spotted a mistake in this document? A typo? Factual inaccuracy? <a class="externalLink" href="https://github.com/triceo/splitlog/edit/master/src/site/markdown/user_guide/introduction.md.vm">Make an edit</a>. Think of the legions of grateful users!</p></div></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                        <p class="pull-right">Copyright &copy;                   2015.
          All rights reserved.      
                    
      </p>
        </div>

        
        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="http://www.ohloh.net/p/715136/widgets/project_factoids.js"></script>
    </div>
        </div>
    </footer>
        </body>
</html>
